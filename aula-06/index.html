<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Canvas - Aula 02</title>
    
</head>

<body>
  <canvas id="desenho1" height="500" width="500" style="border:1px solid #000">
    <h1>Seu browser n√£o tem suport ao canvas</h1>
  </canvas>
  
  <script type="text/javascript">
        let canvas = document.getElementById('desenho1');
        let ctx = canvas.getContext('2d')
        let dx = 1;
        let dy = 0;
        let px = 0
        let py = 10;
        let l_ret = a_ret = 50;
        let l_canvas = a_canvas = 500;
        let anima;
        
        function desenho(){
          ctx.clearRect(0,0,l_canvas,a_canvas);
          ctx.fillStyle = '#f00';
          ctx.lineWidth = 3;
          ctx.strokeStyle = '#000';
          
          ctx.fillRect(px,py,l_ret,a_ret)
          ctx.strokeRect(px,py,l_ret,a_ret)
          px += dx;
          py += dy;
          // if((px + l_ret >= l_canvas) || (px <= 0 ))
          //     dx *= -1
          if((px <= 0) && (py <= 0)){
            dx = 1
            dy = 0
          }
          if((px+l_ret == l_canvas) && (py >= 0)){
            dx = 0
            dy = 1
          }
          if((px+l_ret == l_canvas) && (py+l_ret >= a_canvas)){
            dx = -1
            dy = 0
          }
          if((px == 0) && (py+l_ret >= a_canvas)){
            dx = 0
            dy = -1
          }
        
          anima = requestAnimationFrame(desenho);
      }
    desenho()
    </script>
</body>

</html>